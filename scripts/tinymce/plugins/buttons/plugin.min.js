tinymce.PluginManager.add("buttons",function(t,e){console.log("!!!!!editor",t);var n=buildfire.getContext(),o="?appThemeUrl="+encodeURIComponent(n.endPoints.appHost+"/api/app/styles/appTheme.css?appId="+n.appId+"&liveMode="+n.liveMode);return t.addButton("buttons",{text:"Buttons",icon:!1,onclick:function(){window.currentEditor=t,t.windowManager.open({title:"Buttons",url:e+"/dialog.html"+o,width:600,height:400,buttons:[{text:"Cancel",onclick:function(){t.windowManager.getWindows()[0].close()}},{text:"Select Button Action",classes:"widget btn primary",onclick:function(){const e=t.windowManager.getWindows()[0];e.getContentWindow().validate({},(n,o)=>{if(n)return console.error(n);o&&(e.close(),buildfire.actionItems.showDialog({},{allowNoAction:!1,showIcon:!1,showTitle:!1},(e,n)=>{if(e)return console.error(e);if(!n)return;let i=escape(JSON.stringify(n)),a=`<a class="${"button"===o.type?"btn btn-"+o.buttonStyle:"text-"+o.buttonStyle}" data-execute="${i}"\n                                            onclick="buildfire.actionItems.execute(JSON.parse(unescape('${i}')), ()=>{})">${n.title}</a>&nbsp;`;t.insertContent(a)}))})}}]})}}),{getMetadata:function(){return{name:"Buttons Plugin"}}}});